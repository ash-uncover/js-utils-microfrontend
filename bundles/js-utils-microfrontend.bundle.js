(()=>{"use strict";var e={13:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(805),i=null,o={level:function(){return i},reset:function(){i=null},off:function(){i=r.default.OFF},debug:function(){i=r.default.DEBUG},info:function(){i=r.default.INFO},warn:function(){i=r.default.WARN},error:function(){i=r.default.ERROR}};t.default=o},805:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(n||(n={})),t.default=n},62:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(805),i=n(13),o=function(){function e(e,t){void 0===e&&(e="Logger"),void 0===t&&(t=r.default.ERROR),this._name=e,this._level=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return i.default.level()||this._level},enumerable:!1,configurable:!0}),e.prototype.message=function(e){return"".concat(this.name," - ").concat(e)},e.prototype.debug=function(e){this.level<=r.default.DEBUG&&console.log(this.message(e))},e.prototype.info=function(e){this.level<=r.default.INFO&&console.log(this.message(e))},e.prototype.warn=function(e){this.level<=r.default.WARN&&console.warn(this.message(e))},e.prototype.error=function(e){this.level<=r.default.ERROR&&console.error(this.message(e))},e}();t.default=o},761:(e,t,n)=>{t.ZP=void 0;n(13),n(805);var r=n(62);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}})},380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={LETTERS:{A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z"}}},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=t.randomSubArray=t.shuffle=t.createIntArray=void 0,t.createIntArray=function(e){void 0===e&&(e=0);for(var t=[],n=0;n<e;n++)t.push(n);return t},t.shuffle=function(e){void 0===e&&(e=[]);for(var t=e.slice(),n=[];t.length;){var r=Math.floor(Math.random()*t.length);n.push(t.splice(r,1)[0])}return n},t.randomSubArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=e.slice(),r=[],i=0;i<t;i++){var o=Math.floor(Math.random()*n.length);r.push(n.splice(o,1)[0])}return r},t.removeElement=function(e,t){var n=e.indexOf(t),r=e.slice();return-1!==n&&r.splice(n,1),r}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={NEVER:"NEVER",FETCHING_FIRST:"FETCHING_FIRST",FETCHING:"FETCHING",SUCCESS:"SUCCESS",FAILURE:"FAILURE",OUTDATED:"OUTDATED"}},684:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDataStates=void 0;var i=r(n(920));t.mergeDataStates=function(e){return 0===e.length?i.default.NEVER:e.some((function(e){return e===i.default.FAILURE}))?i.default.FAILURE:e.some((function(e){return e===i.default.OUTDATED}))?i.default.OUTDATED:e.some((function(e){return e===i.default.NEVER}))?i.default.NEVER:e.some((function(e){return e===i.default.FETCHING_FIRST}))?i.default.FETCHING_FIRST:e.some((function(e){return e===i.default.FETCHING}))?i.default.FETCHING:i.default.SUCCESS}},207:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nowString=t.dateString=t.normalizeTime=t.durationToHumanTime=t.TimeConstants=void 0;var n=1e3,r=36e5;t.TimeConstants={MIL_PER_SEC:n,SEC_PER_MIN:60,MIL_PER_MIN:6e4,MIN_PER_HOU:60,SEC_PER_HOU:3600,MIL_PER_HOU:r,HOU_PER_DAY:24,MIN_PER_DAY:1440,SEC_PER_DAY:86400,MIL_PER_DAY:864e5},t.durationToHumanTime=function(e){return{millis:e%n,seconds:Math.floor(e/n)%60,minutes:Math.floor(e/6e4)%60,hours:Math.floor(e/r)}},t.normalizeTime=function(e){return"".concat(e).padStart(2,"0")},t.dateString=function(e){var n=(0,t.normalizeTime)(e.getFullYear()),r=(0,t.normalizeTime)(e.getMonth()),i=(0,t.normalizeTime)(e.getDate()),o=(0,t.normalizeTime)(e.getHours()),a=(0,t.normalizeTime)(e.getMinutes()),s=(0,t.normalizeTime)(e.getSeconds());return"".concat(n,"-").concat(r,"-").concat(i," ").concat(o,":").concat(a,":").concat(s)},t.nowString=function(){return(0,t.dateString)(new Date(Date.now()))}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBasicHeader=t.encodeBasicHeader=t.decode=t.encode=void 0,t.encode=function(e){return void 0===e&&(e=""),Buffer.from(e).toString("base64")},t.decode=function(e){return void 0===e&&(e=""),Buffer.from(e,"base64").toString()},t.encodeBasicHeader=function(e,n){void 0===e&&(e=""),void 0===n&&(n="");var r="".concat(e,":").concat(n),i=(0,t.encode)(r);return"Basic ".concat(i)},t.decodeBasicHeader=function(e){void 0===e&&(e="");var n=e.split("Basic ").join(""),r=(0,t.decode)(n).split(":");return 2===r.length?{username:r[0],password:r[1]}:{username:null,password:null}}},576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkSize=t.checkExtension=t.getExtension=void 0,t.getExtension=function(e){var t=e.name;return t.substring(t.lastIndexOf(".")+1).toLowerCase()},t.checkExtension=function(e,n){return-1!==n.indexOf((0,t.getExtension)(e))},t.checkSize=function(e,t){return e.size<=t}},190:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getParamNames=void 0;var n=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,r=/([^\s,]+)/g;t.getParamNames=function(e){var t=e.toString().replace(n,""),i=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(r);return null===i?[]:i}},431:(e,t)=>{var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.HttpStatus=t.HttpMethod=t.HttpHeader=void 0,(i=t.HttpHeader||(t.HttpHeader={})).ACCESS_CONTROL_ALLOW_ORIGIN="Access-Control-Allow-Origin",i.ACCESS_CONTROL_ALLOW_HEADERS="Access-Control-Allow-Headers",i.ACCESS_CONTROL_ALLOW_METHODS="Access-Control-Allow-Methods",(r=t.HttpMethod||(t.HttpMethod={})).GET="GET",r.POST="POST",r.PUT="PUT",r.PATCH="PATCH",r.DELETE="DELETE",r.OPTIONS="OPTIONS",(n=t.HttpStatus||(t.HttpStatus={}))[n.OK=200]="OK",n[n.CREATED=201]="CREATED",n[n.REMOVED=204]="REMOVED",n[n.BAD_REQUEST=400]="BAD_REQUEST",n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.ERROR=500]="ERROR"},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.getProperty=void 0,t.getProperty=function(e,t){return t.split(".").reduce((function(e,t){if(e&&"object"==typeof e)return e[t]}),e)},t.clone=function(e){return JSON.parse(JSON.stringify(e))}},186:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayedPromise=void 0,t.delayedPromise=function(e,t){return void 0===t&&(t=0),Promise.all([e,new Promise((function(e){return setTimeout(e,t)}))]).then((function(e){return e[0]})).catch((function(e){throw e}))}},989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=t.remove=t.add=t.toSet=void 0,t.toSet=function(e){return e.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},t.add=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){e.includes(t)||e.push(t)})),e},t.remove=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),e},t.merge=function(e,n){return(0,t.toSet)(e.concat(n))}},838:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(953)),s=function(){function e(e,t){void 0===t&&(t=" "),this._value=e,this._words=e.split(t).map((function(e){return e.toLowerCase()})).filter((function(e){return Boolean(e)}))}return Object.defineProperty(e.prototype,"words",{get:function(){return this._words},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"camel",{get:function(){return this.words.map((function(e,t){return 0===t?e:a.capitalize(e)})).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pascal",{get:function(){return this.words.map((function(e){return a.capitalize(e)})).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worm",{get:function(){return this.words.map((function(e){return e.toLowerCase()})).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snake",{get:function(){return this.words.map((function(e){return a.capitalize(e)})).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serpent",{get:function(){return this.words.map((function(e){return e.toUpperCase()})).join("_")},enumerable:!1,configurable:!0}),e}();t.default=s},953:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceAll=t.capitalizeFirst=t.capitalize=void 0,t.capitalize=function(e){return e.length?e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase():""},t.capitalizeFirst=function(e){return e.length?e.substring(0,1).toUpperCase():""},t.replaceAll=function(e,t,n){return e.split(t).join(n)}},267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={next:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}};t.default=n},414:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=t.StringUtils=t.StringLabel=t.Sets=t.PromiseUtils=t.ObjectUtils=t.HttpUtils=t.FunctionUtils=t.FileUtils=t.EncodeUtils=t.DateUtils=t.DataStatesUtils=t.DataStates=t.ArrayUtils=t.Alphabet=void 0;var s=o(n(380)),u=o(n(51)),c=a(n(920)),d=o(n(684)),l=o(n(207)),f=o(n(993)),h=o(n(576)),p=o(n(190)),v=o(n(431)),_=o(n(574)),g=o(n(186)),m=o(n(989)),E=a(n(838)),O=o(n(953)),b=a(n(267));t.Alphabet=s,t.ArrayUtils=u,t.DataStates=c.default,t.DataStatesUtils=d,t.DateUtils=l,t.EncodeUtils=f,t.FileUtils=h,t.FunctionUtils=p,t.HttpUtils=v,t.ObjectUtils=_,t.PromiseUtils=g,t.Sets=m,t.StringLabel=E.default,t.StringUtils=O,t.UUID=b.default}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(()=>{var e,t,r,i,o,a=n(414),s=n(761),u=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const d=new s.ZP("MessageServiceFrame",0);t=new WeakMap,r=new WeakMap,i=new WeakMap,e=new WeakSet,o=function(e){const n=e.data||{};n._serviceId&&n._dispatcherId&&n._dispatcherId===c(this,r,"f")&&this.sendMessage({_serviceId:c(this,t,"f"),type:n.type,payload:n.payload})};const l=class{constructor(n,s,d){e.add(this),t.set(this,void 0),r.set(this,void 0),i.set(this,void 0),u(this,r,n,"f"),u(this,t,d||`message-service-frame-${a.UUID.next()}`,"f"),u(this,i,s,"f"),window.addEventListener("message",c(this,e,"m",o).bind(this))}get id(){return c(this,t,"f")}get idShort(){return`${y.idShort}-${c(this,t,"f").substring(c(this,t,"f").length-3)}`}onMessage(e){d.info(`[${this.idShort}] onMessage`),c(this,i,"f").postMessage(Object.assign(Object.assign({},e),{_serviceId:c(this,t,"f")}),"*")}sendMessage(e){d.info(`[${this.idShort}] sendMessage`),y.sendMessage(Object.assign(Object.assign({},e),{_serviceId:this.id}))}};var f,h,p,v,_,g,m,E=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},O=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const b="__CONNNECTION_REQUEST__",w="__CONNECTION_ACKNOWLEDGE__",S=new s.ZP("MessageDispatcher",0);h=new WeakMap,p=new WeakMap,v=new WeakMap,f=new WeakSet,_=function(e){const t=e.data||{};if(t._dispatcherId)switch(t.type){case b:O(this,f,"m",g).call(this,e);break;case w:O(this,f,"m",m).call(this,e)}},g=function(e){var t;const n=null===(t=e.data)||void 0===t?void 0:t._dispatcherId;S.info(`[${this.idShort}] child trying to connect [${n.substring(n.length-3)}]`),S.info(`[${this.idShort}] current childs: ${O(this,v,"f").join(", ")}`);const r=e.source;if(!O(this,v,"f").includes(n)){const e=new l(n,r);this.addService(e),O(this,v,"f").push(n),e.onMessage({_dispatcherId:O(this,h,"f"),_serviceId:e.id,type:w,payload:null})}},m=function(e){var t,n;S.info(`[${this.idShort}] parent acknowledge connection`);const r=new l(null===(t=e.data)||void 0===t?void 0:t._dispatcherId,window.parent,null===(n=e.data)||void 0===n?void 0:n._serviceId);this.addService(r)};const y=new class{constructor(e){f.add(this),h.set(this,void 0),p.set(this,[]),v.set(this,[]),E(this,h,e||`message-dispatcher-${a.UUID.next()}`,"f"),S.info(`[${this.idShort}] created, listening`),window.addEventListener("message",O(this,f,"m",_).bind(this)),window!==window.parent&&(S.info(`[${this.idShort}] contact parent`),window.parent.postMessage({_dispatcherId:this.id,type:b},"*"))}get id(){return O(this,h,"f")}get idShort(){return O(this,h,"f").substring(O(this,h,"f").length-3)}addService(e){return e.idShort.startsWith("["),S.info(`[${this.idShort}] add service [${e.idShort}]`),O(this,p,"f").includes(e)||O(this,p,"f").push(e),()=>this.removeService(e)}removeService(e){S.info(`[${this.idShort}] remove service [${e.idShort}]`),E(this,p,O(this,p,"f").filter((t=>t!==e)),"f")}sendMessage(e){var t;S.info(`[${this.idShort}] send message to ${O(this,p,"f").length-1} services from [${this.idShort}-${null===(t=e._serviceId)||void 0===t?void 0:t.substring(e._serviceId.length-3)}]`),O(this,p,"f").forEach((t=>{t.id!==e._serviceId&&(S.info(`[${this.idShort}] send message on service [${t.idShort}]`),t.onMessage(Object.assign({_dispatcherId:O(this,h,"f")},e)))}))}};new s.ZP("MessageService",0),new WeakMap,new WeakMap,new WeakMap,new WeakMap})()})();