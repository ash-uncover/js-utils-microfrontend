(()=>{"use strict";var e={13:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(805),n=null,o={level:function(){return n},reset:function(){n=null},off:function(){n=i.default.OFF},debug:function(){n=i.default.DEBUG},info:function(){n=i.default.INFO},warn:function(){n=i.default.WARN},error:function(){n=i.default.ERROR}};t.default=o},805:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(r||(r={})),t.default=r},62:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(805),n=r(13),o=function(){function e(e,t){void 0===e&&(e="Logger"),void 0===t&&(t=i.default.ERROR),this._name=e,this._level=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return n.default.level()||this._level},enumerable:!1,configurable:!0}),e.prototype.message=function(e){return"".concat(this.name," - ").concat(e)},e.prototype.debug=function(e){this.level<=i.default.DEBUG&&console.log(this.message(e))},e.prototype.info=function(e){this.level<=i.default.INFO&&console.log(this.message(e))},e.prototype.warn=function(e){this.level<=i.default.WARN&&console.warn(this.message(e))},e.prototype.error=function(e){this.level<=i.default.ERROR&&console.error(this.message(e))},e}();t.default=o},761:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LogLevels=t.LogConfig=void 0;var i=r(13);Object.defineProperty(t,"LogConfig",{enumerable:!0,get:function(){return i.default}});var n=r(805);Object.defineProperty(t,"LogLevels",{enumerable:!0,get:function(){return n.default}});var o=r(62);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}})},380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={LETTERS:{A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z"}}},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=t.randomSubArray=t.shuffle=t.createIntArray=void 0,t.createIntArray=function(e){void 0===e&&(e=0);for(var t=[],r=0;r<e;r++)t.push(r);return t},t.shuffle=function(e){void 0===e&&(e=[]);for(var t=e.slice(),r=[];t.length;){var i=Math.floor(Math.random()*t.length);r.push(t.splice(i,1)[0])}return r},t.randomSubArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=e.slice(),i=[],n=0;n<t;n++){var o=Math.floor(Math.random()*r.length);i.push(r.splice(o,1)[0])}return i},t.removeElement=function(e,t){var r=e.indexOf(t),i=e.slice();return-1!==r&&i.splice(r,1),i}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={NEVER:"NEVER",FETCHING_FIRST:"FETCHING_FIRST",FETCHING:"FETCHING",SUCCESS:"SUCCESS",FAILURE:"FAILURE",OUTDATED:"OUTDATED"}},684:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDataStates=void 0;var n=i(r(920));t.mergeDataStates=function(e){return 0===e.length?n.default.NEVER:e.some((function(e){return e===n.default.FAILURE}))?n.default.FAILURE:e.some((function(e){return e===n.default.OUTDATED}))?n.default.OUTDATED:e.some((function(e){return e===n.default.NEVER}))?n.default.NEVER:e.some((function(e){return e===n.default.FETCHING_FIRST}))?n.default.FETCHING_FIRST:e.some((function(e){return e===n.default.FETCHING}))?n.default.FETCHING:n.default.SUCCESS}},207:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nowString=t.dateString=t.normalizeTime=t.durationToHumanTime=t.TimeConstants=void 0;var r=1e3,i=36e5;t.TimeConstants={MIL_PER_SEC:r,SEC_PER_MIN:60,MIL_PER_MIN:6e4,MIN_PER_HOU:60,SEC_PER_HOU:3600,MIL_PER_HOU:i,HOU_PER_DAY:24,MIN_PER_DAY:1440,SEC_PER_DAY:86400,MIL_PER_DAY:864e5},t.durationToHumanTime=function(e){return{millis:e%r,seconds:Math.floor(e/r)%60,minutes:Math.floor(e/6e4)%60,hours:Math.floor(e/i)}},t.normalizeTime=function(e){return"".concat(e).padStart(2,"0")},t.dateString=function(e){var r=(0,t.normalizeTime)(e.getFullYear()),i=(0,t.normalizeTime)(e.getMonth()),n=(0,t.normalizeTime)(e.getDate()),o=(0,t.normalizeTime)(e.getHours()),s=(0,t.normalizeTime)(e.getMinutes()),a=(0,t.normalizeTime)(e.getSeconds());return"".concat(r,"-").concat(i,"-").concat(n," ").concat(o,":").concat(s,":").concat(a)},t.nowString=function(){return(0,t.dateString)(new Date(Date.now()))}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBasicHeader=t.encodeBasicHeader=t.decode=t.encode=void 0,t.encode=function(e){return void 0===e&&(e=""),Buffer.from(e).toString("base64")},t.decode=function(e){return void 0===e&&(e=""),Buffer.from(e,"base64").toString()},t.encodeBasicHeader=function(e,r){void 0===e&&(e=""),void 0===r&&(r="");var i="".concat(e,":").concat(r),n=(0,t.encode)(i);return"Basic ".concat(n)},t.decodeBasicHeader=function(e){void 0===e&&(e="");var r=e.split("Basic ").join(""),i=(0,t.decode)(r).split(":");return 2===i.length?{username:i[0],password:i[1]}:{username:null,password:null}}},576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkSize=t.checkExtension=t.getExtension=void 0,t.getExtension=function(e){var t=e.name;return t.substring(t.lastIndexOf(".")+1).toLowerCase()},t.checkExtension=function(e,r){return-1!==r.indexOf((0,t.getExtension)(e))},t.checkSize=function(e,t){return e.size<=t}},190:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getParamNames=void 0;var r=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,i=/([^\s,]+)/g;t.getParamNames=function(e){var t=e.toString().replace(r,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(i);return null===n?[]:n}},431:(e,t)=>{var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.HttpStatus=t.HttpMethod=t.HttpHeader=void 0,(n=t.HttpHeader||(t.HttpHeader={})).ACCESS_CONTROL_ALLOW_ORIGIN="Access-Control-Allow-Origin",n.ACCESS_CONTROL_ALLOW_HEADERS="Access-Control-Allow-Headers",n.ACCESS_CONTROL_ALLOW_METHODS="Access-Control-Allow-Methods",(i=t.HttpMethod||(t.HttpMethod={})).GET="GET",i.POST="POST",i.PUT="PUT",i.PATCH="PATCH",i.DELETE="DELETE",i.OPTIONS="OPTIONS",(r=t.HttpStatus||(t.HttpStatus={}))[r.OK=200]="OK",r[r.CREATED=201]="CREATED",r[r.REMOVED=204]="REMOVED",r[r.BAD_REQUEST=400]="BAD_REQUEST",r[r.UNAUTHORIZED=401]="UNAUTHORIZED",r[r.FORBIDDEN=403]="FORBIDDEN",r[r.NOT_FOUND=404]="NOT_FOUND",r[r.ERROR=500]="ERROR"},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.getProperty=void 0,t.getProperty=function(e,t){return t.split(".").reduce((function(e,t){if(e&&"object"==typeof e)return e[t]}),e)},t.clone=function(e){return JSON.parse(JSON.stringify(e))}},186:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delayedPromise=void 0,t.delayedPromise=function(e,t){return void 0===t&&(t=0),Promise.all([e,new Promise((function(e){return setTimeout(e,t)}))]).then((function(e){return e[0]})).catch((function(e){throw e}))}},989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.merge=t.remove=t.add=t.toSet=void 0,t.toSet=function(e){return e.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},t.add=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach((function(t){e.includes(t)||e.push(t)})),e},t.remove=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach((function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)})),e},t.merge=function(e,r){return(0,t.toSet)(e.concat(r))}},838:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(953)),a=function(){function e(e,t){void 0===t&&(t=" "),this._value=e,this._words=e.split(t).map((function(e){return e.toLowerCase()})).filter((function(e){return Boolean(e)}))}return Object.defineProperty(e.prototype,"words",{get:function(){return this._words},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"camel",{get:function(){return this.words.map((function(e,t){return 0===t?e:s.capitalize(e)})).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pascal",{get:function(){return this.words.map((function(e){return s.capitalize(e)})).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worm",{get:function(){return this.words.map((function(e){return e.toLowerCase()})).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"snake",{get:function(){return this.words.map((function(e){return s.capitalize(e)})).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serpent",{get:function(){return this.words.map((function(e){return e.toUpperCase()})).join("_")},enumerable:!1,configurable:!0}),e}();t.default=a},953:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceAll=t.capitalizeFirst=t.capitalize=void 0,t.capitalize=function(e){return e.length?e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase():""},t.capitalizeFirst=function(e){return e.length?e.substring(0,1).toUpperCase():""},t.replaceAll=function(e,t,r){return e.split(t).join(r)}},267:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r={next:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}};t.default=r},414:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UUID=t.StringUtils=t.StringLabel=t.Sets=t.PromiseUtils=t.ObjectUtils=t.HttpUtils=t.FunctionUtils=t.FileUtils=t.EncodeUtils=t.DateUtils=t.DataStatesUtils=t.DataStates=t.ArrayUtils=t.Alphabet=void 0;var a=o(r(380)),u=o(r(51)),c=s(r(920)),d=o(r(684)),l=o(r(207)),f=o(r(993)),h=o(r(576)),p=o(r(190)),v=o(r(431)),_=o(r(574)),g=o(r(186)),m=o(r(989)),O=s(r(838)),b=o(r(953)),w=s(r(267));t.Alphabet=a,t.ArrayUtils=u,t.DataStates=c.default,t.DataStatesUtils=d,t.DateUtils=l,t.EncodeUtils=f,t.FileUtils=h,t.FunctionUtils=p,t.HttpUtils=v,t.ObjectUtils=_,t.PromiseUtils=g,t.Sets=m,t.StringLabel=O.default,t.StringUtils=b,t.UUID=w.default},776:function(e,t,r){var i,n,o,s,a,u,c,d=this&&this.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},l=this&&this.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const h=r(414),p=f(r(761)),v=f(r(299)),_="__CONNNECTION_REQUEST__",g="__CONNECTION_ACKNOWLEDGE__",m=new p.default("MessageDispatcher",0);n=new WeakMap,o=new WeakMap,s=new WeakMap,i=new WeakSet,a=function(e){const t=e.data||{};if(t._dispatcherId)switch(t.type){case _:l(this,i,"m",u).call(this,e);break;case g:l(this,i,"m",c).call(this,e)}},u=function(e){var t;const r=null===(t=e.data)||void 0===t?void 0:t._dispatcherId;m.info(`[${this.idShort}] child trying to connect [${r.substring(r.length-3)}]`),m.info(`[${this.idShort}] current childs: ${l(this,s,"f").join(", ")}`);const i=e.source;if(!l(this,s,"f").includes(r)){const e=new v.default(r,i);this.addService(e),l(this,s,"f").push(r),e.onMessage({_dispatcherId:l(this,n,"f"),_serviceId:e.id,type:g,payload:null})}},c=function(e){var t,r;m.info(`[${this.idShort}] parent acknowledge connection`);const i=new v.default(null===(t=e.data)||void 0===t?void 0:t._dispatcherId,window.parent,null===(r=e.data)||void 0===r?void 0:r._serviceId);this.addService(i)};const O=new class{constructor(e){i.add(this),n.set(this,void 0),o.set(this,[]),s.set(this,[]),d(this,n,e||`message-dispatcher-${h.UUID.next()}`,"f"),m.info(`[${this.idShort}] created, listening`),window.addEventListener("message",l(this,i,"m",a).bind(this)),window!==window.parent&&(m.info(`[${this.idShort}] contact parent`),window.parent.postMessage({_dispatcherId:this.id,type:_},"*"))}get id(){return l(this,n,"f")}get idShort(){return l(this,n,"f").substring(l(this,n,"f").length-3)}addService(e){return e.idShort.startsWith("["),m.info(`[${this.idShort}] add service [${e.idShort}]`),l(this,o,"f").includes(e)||l(this,o,"f").push(e),()=>this.removeService(e)}removeService(e){m.info(`[${this.idShort}] remove service [${e.idShort}]`),d(this,o,l(this,o,"f").filter((t=>t!==e)),"f")}sendMessage(e){var t;m.info(`[${this.idShort}] send message to ${l(this,o,"f").length-1} services from [${this.idShort}-${null===(t=e._serviceId)||void 0===t?void 0:t.substring(e._serviceId.length-3)}]`),l(this,o,"f").forEach((t=>{t.id!==e._serviceId&&(m.info(`[${this.idShort}] send message on service [${t.idShort}]`),t.onMessage(Object.assign({_dispatcherId:l(this,n,"f")},e)))}))}};t.default=O},999:function(e,t,r){var i,n,o,s,a=this&&this.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},u=this&&this.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const d=r(414),l=c(r(761)),f=c(r(776)),h=new l.default("MessageService",0);i=new WeakMap,n=new WeakMap,o=new WeakMap,s=new WeakMap,t.default=class{constructor(e){i.set(this,void 0),n.set(this,!1),o.set(this,null),s.set(this,null),a(this,i,e||`message-service-${d.UUID.next()}`,"f"),h.info(`[${this.idShort}] created`)}get id(){return u(this,i,"f")}get idShort(){return`${f.default.idShort}-${u(this,i,"f").substring(u(this,i,"f").length-3)}`}init(e){return a(this,n,!0,"f"),a(this,o,e,"f"),a(this,s,f.default.addService(this),"f"),h.info(`[${this.idShort}] starting`),()=>{h.info(`[${this.idShort}] closing`),a(this,n,!1,"f"),a(this,o,null,"f"),u(this,s,"f")&&u(this,s,"f").call(this)}}onMessage(e){u(this,n,"f")&&u(this,o,"f")?(h.info(`[${this.idShort}] onMessage`),u(this,o,"f").call(this,e)):h.warn(`[${this.idShort}] onMessage but not init`)}sendMessage(e){h.info(`[${this.idShort}] sendMessage`),u(this,n,"f")?f.default.sendMessage(Object.assign(Object.assign({},e),{_serviceId:this.id})):h.warn(`[${this.idShort}] sendMessage but not init`)}}},299:function(e,t,r){var i,n,o,s,a,u=this&&this.__classPrivateFieldSet||function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(414),f=d(r(761)),h=d(r(776)),p=new f.default("MessageServiceFrame",0);n=new WeakMap,o=new WeakMap,s=new WeakMap,i=new WeakSet,a=function(e){const t=e.data||{};t._serviceId&&t._dispatcherId&&t._dispatcherId===c(this,o,"f")&&this.sendMessage({_serviceId:c(this,n,"f"),type:t.type,payload:t.payload})},t.default=class{constructor(e,t,r){i.add(this),n.set(this,void 0),o.set(this,void 0),s.set(this,void 0),u(this,o,e,"f"),u(this,n,r||`message-service-frame-${l.UUID.next()}`,"f"),u(this,s,t,"f"),window.addEventListener("message",c(this,i,"m",a).bind(this))}get id(){return c(this,n,"f")}get idShort(){return`${h.default.idShort}-${c(this,n,"f").substring(c(this,n,"f").length-3)}`}onMessage(e){p.info(`[${this.idShort}] onMessage`),c(this,s,"f").postMessage(Object.assign(Object.assign({},e),{_serviceId:c(this,n,"f")}),"*")}sendMessage(e){p.info(`[${this.idShort}] sendMessage`),h.default.sendMessage(Object.assign(Object.assign({},e),{_serviceId:this.id}))}}},607:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageService=void 0;const n=i(r(999));t.MessageService=n.default,t.default=t.MessageService}},t={};!function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,r),o.exports}(607)})();